!function(e){if("object"==typeof exports)module.exports=e();else if("function"==typeof define&&define.amd)define(e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.grailedAngularEngine=e()}}(function(){return function e(t,r,n){function o(l,a){if(!r[l]){if(!t[l]){var s="function"==typeof require&&require;if(!a&&s)return s(l,!0);if(i)return i(l,!0);throw new Error("Cannot find module '"+l+"'")}var c=r[l]={exports:{}};t[l][0].call(c.exports,function(e){var r=t[l][1][e];return o(r?r:e)},c,c.exports,e,t,r,n)}return r[l].exports}for(var i="function"==typeof require&&require,l=0;l<n.length;l++)o(n[l]);return o}({1:[function(e,t){function r(e){return e?n(e):void 0}function n(e){for(var t in r.prototype)e[t]=r.prototype[t];return e}t.exports=r,r.prototype.on=r.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks[e]=this._callbacks[e]||[]).push(t),this},r.prototype.once=function(e,t){function r(){n.off(e,r),t.apply(this,arguments)}var n=this;return this._callbacks=this._callbacks||{},r.fn=t,this.on(e,r),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var r=this._callbacks[e];if(!r)return this;if(1==arguments.length)return delete this._callbacks[e],this;for(var n,o=0;o<r.length;o++)if(n=r[o],n===t||n.fn===t){r.splice(o,1);break}return this},r.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),r=this._callbacks[e];if(r){r=r.slice(0);for(var n=0,o=r.length;o>n;++n)r[n].apply(this,t)}return this},r.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks[e]||[]},r.prototype.hasListeners=function(e){return!!this.listeners(e).length}},{}],2:[function(e,t,r){if("undefined"==typeof angular)throw new Error("The Angular depdency has not been loaded!");var n=e("emitter-component");r=t.exports=function(e){var t=e;t.angular={controller:function(e,r,n,o){var i=t.angular.scope=e;i.$location=o,i.$route=r,i.$routeParams=n,Object.keys(t.controllers).forEach(function(e){Object.defineProperties(t.controllers[e],{__name:{value:e+"Controller"},scope:{get:function(){return i}}}),i[e+"Controller"]=t.controllers[e]})},routes:function(e,r){var n=t.routes;Object.keys(n).forEach(function(r){var o=n[r];if(void 0===o.template)throw new Error("The grailed angular engine was given a route with an invalid template");e.when(r,{templateUrl:o.template,controller:t.angular.routeController(o)})}),r.html5Mode(!0)},routeController:function(e){if(void 0===e||!e.controller)throw new Error("The grailed angular engine was given an invalid route");return function(){t.angular.scope.self=e.controller,t.emit("route",t.angular.scope.self)}}},t.on("route",function(e){var t=e.all||e.get;"function"==typeof t&&t.apply(e)}),t.angular.controller.$inject=["$scope","$route","$routeParams","$location"],t.angular.routes.$inject=["$routeProvider","$locationProvider"],angular.module("app",["ngRoute"]).config(t.angular.routes),t.emit("angular:initialised")},n(r)},{"emitter-component":1}]},{},[2])(2)});